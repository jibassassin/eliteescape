<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prenota il tuo Catamarano - Vacanze in Sardegna</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#0a5c8f',secondary:'#f8b400'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script src="catamaran-config.js"></script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
@media (max-width: 768px) {
.container {
padding-left: 1rem;
padding-right: 1rem;
}
main {
padding-top: 5rem;
}
h1 {
font-size: 1.875rem;
line-height: 2.25rem;
}
.swiper-container {
height: 240px;
}
.custom-checkbox, .custom-radio {
margin-bottom: 0.5rem;
}
input, select, textarea {
font-size: 16px;
}
}
body {
font-family: 'Raleway', sans-serif;
}
h1, h2, h3, h4, h5, h6 {
font-family: 'Playfair Display', serif;
}
input[type="date"]::-webkit-calendar-picker-indicator {
filter: invert(0.5);
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
-webkit-appearance: none;
margin: 0;
}
.custom-checkbox {
position: relative;
padding-left: 28px;
cursor: pointer;
user-select: none;
}
.custom-checkbox input {
position: absolute;
opacity: 0;
cursor: pointer;
}
.checkmark {
position: absolute;
top: 0;
left: 0;
height: 20px;
width: 20px;
background-color: #fff;
border: 1px solid #ddd;
border-radius: 4px;
}
.custom-checkbox:hover input ~ .checkmark {
background-color: #f0f9ff;
}
.custom-checkbox input:checked ~ .checkmark {
background-color: #0a5c8f;
border-color: #0a5c8f;
}
.checkmark:after {
content: "";
position: absolute;
display: none;
}
.custom-checkbox input:checked ~ .checkmark:after {
display: block;
}
.custom-checkbox .checkmark:after {
left: 7px;
top: 3px;
width: 6px;
height: 11px;
border: solid white;
border-width: 0 2px 2px 0;
transform: rotate(45deg);
}
.progress-step {
position: relative;
}
.progress-step:not(:last-child)::after {
content: "";
position: absolute;
top: 50%;
right: -50%;
transform: translate(0, -50%);
width: 100%;
height: 2px;
background-color: #e5e7eb;
z-index: 0;
}
.progress-step.active:not(:last-child)::after {
background-color: #0a5c8f;
}
.custom-radio {
position: relative;
padding-left: 28px;
cursor: pointer;
user-select: none;
}
.custom-radio input {
position: absolute;
opacity: 0;
cursor: pointer;
}
.radio-mark {
position: absolute;
top: 0;
left: 0;
height: 20px;
width: 20px;
background-color: #fff;
border: 1px solid #ddd;
border-radius: 50%;
}
.custom-radio:hover input ~ .radio-mark {
background-color: #f0f9ff;
}
.custom-radio input:checked ~ .radio-mark {
background-color: #fff;
border-color: #0a5c8f;
}
.radio-mark:after {
content: "";
position: absolute;
display: none;
top: 4px;
left: 4px;
width: 10px;
height: 10px;
border-radius: 50%;
background: #0a5c8f;
}
.custom-radio input:checked ~ .radio-mark:after {
display: block;
}
.custom-switch {
position: relative;
display: inline-block;
width: 50px;
height: 24px;
}
.custom-switch input {
opacity: 0;
width: 0;
height: 0;
}
.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: #ccc;
transition: .4s;
border-radius: 24px;
}
.slider:before {
position: absolute;
content: "";
height: 16px;
width: 16px;
left: 4px;
bottom: 4px;
background-color: white;
transition: .4s;
border-radius: 50%;
}
input:checked + .slider {
background-color: #0a5c8f;
}
input:checked + .slider:before {
transform: translateX(26px);
}
</style>
</head>
<body class="bg-gray-50">
<!-- Header -->
<header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
<div class="container mx-auto px-4 py-3 flex items-center justify-between">
<div class="flex items-center">
<a href="#" id="site-logo" class="text-3xl font-['Pacifico'] text-primary">logo</a>
<div class="flex items-center">
<div class="w-10 h-10 flex items-center justify-center md:hidden cursor-pointer">
<i class="ri-menu-line ri-lg"></i>
</div>
</div>
</div>
</header>
<!-- Main Content -->
<main class="container mx-auto px-4 pt-24 pb-8">
<div class="flex flex-col gap-8">
<!-- Left Column - Catamaran Details -->
<div class="w-full">
<h1 id="page-main-title" class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Prenota il tuo Catamarano</h1>
<!-- Catamaran Card -->
<div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
<div class="relative">
<div class="swiper-container h-80">
<img src="https://readdy.ai/api/search-image?query=luxury%2520catamaran%2520Fountaine%2520Pajot%252045%2520sailing%2520in%2520crystal%2520clear%2520turquoise%2520waters%2520near%2520Sardinia%2520coast%252C%2520Italy.%2520The%2520catamaran%2520is%2520white%2520with%2520elegant%2520lines%252C%2520spacious%2520deck%2520and%2520modern%2520design.%2520Beautiful%2520coastal%2520scenery%2520with%2520rocky%2520cliffs%2520and%2520sandy%2520beaches%2520visible%2520in%2520the%2520background.%2520Bright%2520sunny%2520day%2520with%2520deep%2520blue%2520sky.&width=1200&height=600&seq=10001&orientation=landscape" alt="Fountaine Pajot 45" class="w-full h-full object-cover object-top">
</div>

<!-- Badge Prezzo di Partenza -->
<div id="price-badge" class="absolute top-4 right-4 px-4 py-2 rounded-full text-sm font-semibold shadow-lg flex flex-col items-center min-w-[120px]" style="background-color: #f8b400; color: #ffffff;">
<span id="badge-text" class="text-xs mb-1">A partire da</span>
<span id="badge-price" class="text-lg font-bold">€2.999</span>
</div>

<div class="absolute bottom-4 right-4 bg-white bg-opacity-90 px-3 py-1 rounded-full text-sm font-medium text-primary flex items-center">
<span class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-image-line"></i>
</span>
Altre foto
</div>
</div>
<div class="p-6">
<div class="mb-4">
<h2 class="text-2xl font-bold text-gray-900" id="catamaran-name">Bali Catsmart - Violante</h2>
</div>
<div class="grid grid-cols-2 gap-4 mb-6">
<div class="flex flex-col items-center p-3 bg-gray-50 rounded-lg">
<div class="w-8 h-8 flex items-center justify-center text-primary mb-2">
<i class="ri-ship-line ri-lg"></i>
</div>
<span class="text-sm font-medium text-gray-900" id="catamaran-year">Anno 2025</span>
</div>
<div class="flex flex-col items-center p-3 bg-gray-50 rounded-lg">
<div class="w-8 h-8 flex items-center justify-center text-primary mb-2">
<i class="ri-ruler-line ri-lg"></i>
</div>
<span class="text-sm font-medium text-gray-900">11,8 metri</span>
</div>
<div class="flex flex-col items-center p-3 bg-gray-50 rounded-lg">
<div class="w-8 h-8 flex items-center justify-center text-primary mb-2">
<i class="ri-hotel-bed-line ri-lg"></i>
</div>
<span class="text-sm font-medium text-gray-900">4 cabine +1 skipper</span>
</div>
<div class="flex flex-col items-center p-3 bg-gray-50 rounded-lg">
<div class="w-8 h-8 flex items-center justify-center text-primary mb-2">
<i class="ri-drop-line ri-lg"></i>
</div>
<span class="text-sm font-medium text-gray-900">2 bagni +1 skipper</span>
</div>
</div>
<div class="border-t border-gray-200 pt-6">
<h3 class="text-lg font-semibold text-gray-900 mb-3">Descrizione</h3>
<p class="text-gray-600 mb-4">Violante è il nostro Bali Catsmart, varato nel 2025, pensato per vivere il mare in modo confortevole e autentico. Ogni mattina può iniziare in una caletta tranquilla, con il comfort di casa a portata di mano.
La dinette si apre sul pozzetto grazie a un portellone posteriore, creando uno spazio conviviale unico. A prua, un prendisole con tavolino sostituisce la classica rete, ideale per aperitivi e relax.
Grazie al dissalatore da 200 litri/ora e all’energia garantita da pannelli solari e batterie a 220V, Violante offre piena autonomia. Il tender da 6 posti con motore da 9 cavalli consente di raggiungere facilmente la costa.
Senza fly bridge, la randa più ampia garantisce prestazioni a vela superiori. Navigare con Violante è silenzioso, sostenibile e in armonia con la natura.
Salpa e vivi il mare con uno spirito libero e consapevole.</p>
<div class="grid grid-cols-1 gap-4">
<div>
<h4 class="font-medium text-gray-900 mb-2">Caratteristiche principali:</h4>
<ul class="space-y-1">
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">4 cabine doppie per gli ospiti ed una cabina aggiuntiva per lo skipper</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Cucina attrezzata e ampia dinette con portellone apribile</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Piena autonomia: nessuna necessità di sosta per acqua, carburante ed energia elettrica</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Ampio prendisole a prua al posto della rete, con tavolino per aperitivi indimenticabili</span>
</li>
</ul>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-2">Dotazioni incluse:</h4>
<ul class="space-y-1">
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Tender 8 posti con motore fuoribordo da 9hp</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Dissalatore per acqua dolce da 200 l/h</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Casse acustiche bluetooth di alta qualità</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Pannelli solari e pacco batterie</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-2 mt-0.5">
<i class="ri-check-line"></i>
</div>
<span class="text-gray-700">Barbecue a gas</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!-- Date and Guests Section -->
<div class="bg-white rounded-lg shadow-lg p-6 mb-8">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Date e Ospiti</h3>
<div class="mb-6">
<div class="flex justify-between items-center mb-4">
<h4 class="text-sm font-medium text-gray-700">Seleziona la settimana</h4>
<div class="flex space-x-2">
<button id="prevMonth" class="p-2 hover:bg-gray-100 rounded-full">
<i class="ri-arrow-left-s-line"></i>
</button>
<span id="currentMonth" class="text-sm font-medium py-2"></span>
<button id="nextMonth" class="p-2 hover:bg-gray-100 rounded-full">
<i class="ri-arrow-right-s-line"></i>
</button>
</div>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<div class="grid grid-cols-7 text-center border-b border-gray-200">
<div class="py-2 text-xs font-medium text-gray-500">Dom</div>
<div class="py-2 text-xs font-medium text-gray-500">Lun</div>
<div class="py-2 text-xs font-medium text-gray-500">Mar</div>
<div class="py-2 text-xs font-medium text-gray-500">Mer</div>
<div class="py-2 text-xs font-medium text-gray-500">Gio</div>
<div class="py-2 text-xs font-medium text-gray-500">Ven</div>
<div class="py-2 text-xs font-medium text-gray-500">Sab</div>
</div>
<div id="calendarDays" class="grid grid-cols-7"></div>
</div>
<div class="mt-4 flex items-center justify-between text-sm text-gray-600">
<div>
<span id="selectedWeek">Nessuna settimana selezionata</span>
<p class="text-xs text-gray-500 mt-1" id="boardingTimes">Check-in: Sabato ore 16:00 | Check-out: Sabato ore 10:00</p>
</div>
<button id="clearSelection" class="text-primary hover:underline hidden">Cancella selezione</button>
</div>
</div>
<div class="mb-6">
<label class="block text-sm font-medium text-gray-700 mb-2">Numero di ospiti</label>
<div class="flex items-center">
<button class="w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors" id="decreaseGuests">
<i class="ri-subtract-line"></i>
</button>
<input type="number" id="guestsCount" min="1" max="8" value="6" class="w-16 h-10 border-y border-gray-300 text-center focus:outline-none text-gray-700">
<button class="w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors" id="increaseGuests">
<i class="ri-add-line"></i>
</button>
<span class="ml-3 text-sm text-gray-500">Massimo 8 ospiti</span>
</div>
</div>

<!-- Prezzo Base (visibile solo quando è selezionata una settimana) -->
<div id="week-price-section" class="mt-6 p-4 bg-primary bg-opacity-5 rounded-lg border-l-4 border-primary hidden">
<div class="flex justify-between items-center">
<div>
<span class="text-sm text-gray-700">Prezzo base per questa settimana</span>
<p class="text-xs text-gray-500 mt-1" id="week-details">7 giorni selezionati</p>
<p class="text-xs text-primary font-medium mt-1" id="week-note"></p>
</div>
<div class="text-right">
<p class="text-2xl font-bold text-primary" id="base-price">€ 3.499</p>
<span class="text-gray-600 text-xs">per settimana</span>
</div>
</div>
</div>

</div>
<!-- Additional Services -->
<div class="bg-white rounded-lg shadow-lg p-6 mb-8">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Servizi Raccomandati</h3>
<div class="border-2 border-primary rounded-lg p-4 hover:bg-primary hover:bg-opacity-5 transition-colors mb-6">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-steering-2-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Skipper Professionale</h4>
<p class="text-sm text-gray-600" id="skipper-price">€200/giorno</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="200" data-name="Skipper">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Affidati a un capitano professionista che si occuperà della navigazione e ti guiderà alla scoperta delle baie più belle e suggestive. Con il servizio skipper, la cauzione passa da €3.500 a €1.500.</p>
<div class="mt-3 pt-3 border-t border-gray-100">
<p class="text-sm font-medium text-primary flex items-center">
<i class="ri-thumb-up-line mr-2"></i>
Raccomandato per chi ha poca esperienza di navigazione nelle acque della Sardegna e vuole godersi la vacanza senza preoccupazioni
</p>
</div>
</div>
<h3 class="text-xl font-semibold text-gray-900 mb-4">Servizi Aggiuntivi</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<!-- Water Sports -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-snorkel-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Attrezzature Sport Acquatici</h4>
<p class="text-sm text-gray-600">€300 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="300" data-name="Sport Acquatici" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Set completo con due SUP, 8 set di maschere con boccaglio e pinne per snorkeling.</p>
</div>
<!-- Wi-Fi -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-wifi-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Wi-Fi</h4>
<p class="text-sm text-gray-600">€50 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="50" data-name="Wi-Fi" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Connessione internet ad alta velocità disponibile a bordo per tutta la durata del viaggio.</p>
</div>
<!-- Pizza Perfetta -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-restaurant-2-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Pizza Perfetta</h4>
<p class="text-sm text-gray-600">€150 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="150" data-name="Pizza Perfetta" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Forno per pizza Ooni Koda con kit completo per pizza, pale, tagliere e ingredienti base per 2 serate</p>
</div>
<!-- Bimby -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-blender-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Bimby</h4>
<p class="text-sm text-gray-600">€250 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="250" data-name="Bimby" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Robot da cucina Bimby TM7 con ricettario digitale e accessori inclusi</p>
</div>
<!-- Chef -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-restaurant-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Pacchetto "come la cucina di casa tua"</h4>
<p class="text-sm text-gray-600">€150 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="150" data-name="Pacchetto come la cucina di casa tua" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Macchina Nespresso con 100 capsule incluse, microonde, tostapane, frullatore ad immersione</p>
</div>
<!-- Final Cleaning -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
<div class="flex justify-between items-start mb-3">
<div class="flex items-start">
<div class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-full text-primary mr-3">
<i class="ri-fish-line"></i>
</div>
<div>
<h4 class="font-medium text-gray-900">Attrezzatura per la pesca</h4>
<p class="text-sm text-gray-600">€75 (una tantum)</p>
</div>
</div>
<label class="custom-switch">
<input type="checkbox" class="service-checkbox" data-price="75" data-name="Attrezzatura per la pesca" data-onetime="true">
<span class="slider"></span>
</label>
</div>
<p class="text-sm text-gray-600">Una canna da pesca con esche, retino e una cassetta attrezzi per la pesca</p>
</div>
</div>
</div>
</div>
<!-- Right Column - Booking Summary -->
<div class="w-full">
<div class="bg-white rounded-lg shadow-lg p-6">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Riepilogo Prenotazione</h3>
<div class="flex items-center mb-4 pb-4 border-b border-gray-200">
<img src="https://readdy.ai/api/search-image?query=luxury%2520catamaran%2520Fountaine%2520Pajot%252045%2520sailing%2520in%2520crystal%2520clear%2520turquoise%2520waters%252C%2520close-up%2520view%2520of%2520the%2520elegant%2520white%2520hull%2520and%2520modern%2520design.%2520Professional%2520product%2520photography%2520with%2520clean%2520background.&width=100&height=100&seq=20001&orientation=squarish" alt="Fountaine Pajot 45" class="w-16 h-16 object-cover rounded-md mr-3">
<div>
<h4 class="font-medium text-gray-900">Bali Catsmart "Violante"</h4>
<p class="text-sm text-gray-600">Cagliari, Sardegna</p>
</div>
</div>
<div class="space-y-3 mb-6">
<div class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3 mt-0.5">
<i class="ri-calendar-line"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Date</p>
<p class="text-sm text-gray-600" id="booking-dates">23 Maggio - 30 Maggio 2025</p>
</div>
</div>
<div class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3 mt-0.5">
<i class="ri-time-line"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Durata</p>
<p class="text-sm text-gray-600">7 giorni</p>
</div>
</div>
<div class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3 mt-0.5">
<i class="ri-user-line"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Ospiti</p>
<p class="text-sm text-gray-600" id="booking-guests">6 persone</p>
</div>
</div>
<div class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3 mt-0.5">
<i class="ri-map-pin-line"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Partenza</p>
<p class="text-sm text-gray-600">Cagliari, ore 16:00</p>
</div>
</div>
</div>
<div class="border-t border-gray-200 pt-4 mb-6">
<h4 class="font-medium text-gray-900 mb-4">Riepilogo Costi</h4>
<div class="space-y-2">
<div class="flex justify-between">
<span class="text-gray-600">Prezzo base per questa settimana (7 giorni)</span>
<span class="font-medium" id="summary-base-price">€ 3.499</span>
</div>
<div id="instagram-discount-section" class="flex justify-between text-green-600">
<span id="discount-label">Sconto Instagram -10%</span>
<span id="discount-amount">-€ 349,90</span>
</div>
<div class="bg-gray-50 p-4 rounded-lg">
<div class="mb-4">
<h5 class="text-gray-700 font-medium mb-4">Servizi obbligatori</h5>
</div>
<div class="space-y-4 text-sm text-gray-600">
<div>
<div class="flex justify-between items-start mb-2">
<span class="font-medium">Pacchetto Charter obbligatorio:</span>
<span class="font-medium">€ <span id="charter-detail-price">400</span></span>
</div>
<ul class="list-disc ml-4 space-y-1 text-xs">
<li>Pulizie finali</li>
<li>Tender + motore fuoribordo</li>
<li>Bombola del gas</li>
</ul>
</div>
<div>
<div class="flex justify-between items-start mb-2">
<span class="font-medium">Pacchetto carburante no-stress:</span>
<span class="font-medium">€ <span id="fuel-detail-price">350</span></span>
</div>
<ul class="list-disc ml-4 space-y-1 text-xs">
<li>Nessun obbligo di pieno al rientro, nessuna coda al distributore</li>
<li>Goditi la vacanza fino all'ultimo secondo</li>
<li>Rifornimento gratuito illimitato al distributore convenzionato in porto</li>
</ul>
</div>
<div>
<div class="flex justify-between items-start mb-2">
<span class="font-medium">Pacchetto Toilette:</span>
<span class="font-medium">€ <span id="linens-detail-price">120</span></span>
</div>
<ul class="list-disc ml-4 space-y-1 text-xs">
<li>Lenzuola e salviette toilette (€20 a persona)</li>
</ul>
</div>
</div>
<div class="border-t border-gray-300 mt-4 pt-3">
<div class="flex justify-between items-center">
<span class="font-semibold text-gray-700">TOTALE SERVIZI OBBLIGATORI:</span>
<span class="font-semibold text-gray-700" id="mandatory-services-total">€ 870</span>
</div>
</div>
</div>
<div class="bg-gray-50 p-4 rounded-lg" id="services-total-container" style="display: none;">
<div class="mb-4">
<h5 class="text-gray-700 font-medium mb-4">Servizi aggiuntivi</h5>
</div>
<div class="space-y-4 text-sm text-gray-600" id="selected-services-list">
<!-- Servizi selezionati verranno inseriti qui dinamicamente -->
</div>
<div class="border-t border-gray-300 mt-4 pt-3">
<div class="flex justify-between items-center">
<span class="font-semibold text-gray-700">TOTALE SERVIZI AGGIUNTIVI:</span>
<span class="font-semibold text-gray-700" id="services-total">€0</span>
</div>
</div>
</div>
<div class="flex justify-between pt-3 border-t border-gray-200 font-semibold text-lg">
<span>Totale</span>
<span class="text-primary" id="total-price">€7.340</span>
</div>
</div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
const termsCheckbox = document.getElementById('terms-checkbox');
const submitButton = document.getElementById('submit-booking');
termsCheckbox.addEventListener('change', function() {
if(this.checked) {
submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
} else {
submitButton.classList.add('opacity-50', 'cursor-not-allowed');
}
});
submitButton.addEventListener('click', function(e) {
if(!termsCheckbox.checked) {
e.preventDefault();
}
});
});
</script>
</div>
</div>
<!-- Personal Details -->
<div class="bg-white rounded-lg shadow-lg p-6 mb-8">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Dati Personali</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Nome*</label>
<input type="text" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary" placeholder="Inserisci il tuo nome">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Cognome*</label>
<input type="text" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary" placeholder="Inserisci il tuo cognome">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Email*</label>
<input type="email" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary" placeholder="esempio@email.com">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Telefono*</label>
<input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary" placeholder="+39 123 456 7890">
</div>
</div>
<div class="mb-6">
<label class="block text-sm font-medium text-gray-700 mb-2">Nazionalità*</label>
<div class="relative">
<select class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary appearance-none pr-8">
<option value="">Seleziona la tua nazionalità</option>
<option value="IT">Italia</option>
<option value="FR">Francia</option>
<option value="DE">Germania</option>
<option value="UK">Regno Unito</option>
<option value="ES">Spagna</option>
<option value="CH">Svizzera</option>
<option value="US">Stati Uniti</option>
<option value="other">Altro</option>
</select>
<div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
<div class="mb-6">
<label class="block text-sm font-medium text-gray-700 mb-2">Note speciali o richieste</label>
<textarea class="w-full px-4 py-2 border border-gray-300 rounded focus:border-primary focus:ring-1 focus:ring-primary h-32" placeholder="Inserisci eventuali richieste speciali, allergie, o altre informazioni utili..."></textarea>
</div>
<div class="mb-6">
<label class="block text-sm font-medium text-gray-700 mb-2">Esperienza di navigazione</label>
<div class="space-y-3">
<label class="custom-radio block">
<input type="radio" name="experience" value="none">
<span class="radio-mark"></span>
<span class="ml-2">Nessuna esperienza</span>
</label>
<label class="custom-radio block">
<input type="radio" name="experience" value="basic">
<span class="radio-mark"></span>
<span class="ml-2">Esperienza base</span>
</label>
<label class="custom-radio block">
<input type="radio" name="experience" value="intermediate">
<span class="radio-mark"></span>
<span class="ml-2">Esperienza intermedia</span>
</label>
<label class="custom-radio block">
<input type="radio" name="experience" value="advanced">
<span class="radio-mark"></span>
<span class="ml-2">Esperienza avanzata</span>
</label>
</div>

<div class="bg-gray-50 p-4 rounded-lg mb-4">
<h4 class="font-medium text-gray-900 mb-2">Politica di pagamento trasparente</h4>
<p class="text-sm text-gray-600 mb-2">
• 50% alla prenotazione, 50% 15 giorni prima dell'imbarco
</p>
<p class="text-sm text-gray-600 mb-2">
• Cauzione di €3.500 da versare prima dell'imbarco, rimborsabile in assenza di danni
</p>
<p class="text-sm text-gray-600">
• Cauzione ridotta a €1.500 se si sceglie il servizio skipper
</p>
</div>
<div class="bg-gray-50 p-4 rounded-lg mb-6">
<h4 class="font-medium text-gray-900 mb-2">Politica di cancellazione</h4>
<p class="text-sm text-gray-600 mb-2">
• Cancellazione gratuita fino a 30 giorni prima della partenza
</p>
<p class="text-sm text-gray-600 mb-2">
• 50% di rimborso fino a 15 giorni prima della partenza
</p>
<p class="text-sm text-gray-600">
• Nessun rimborso per cancellazioni a meno di 15 giorni dalla partenza
</p>
</div>
<label class="custom-checkbox block mb-2">
<input type="checkbox" id="terms-checkbox">
<span class="checkmark"></span>
<span class="ml-2">Accetto i <a href="#" class="text-primary hover:underline">termini e condizioni</a> e la <a href="#" class="text-primary hover:underline">Privacy Policy</a>*</span>
</label>
<label class="custom-checkbox block mb-4">
<input type="checkbox" id="newsletter-checkbox">
<span class="checkmark"></span>
<span class="ml-2">Desidero ricevere offerte speciali e aggiornamenti via email</span>
</label>
<button id="submit-booking" class="w-full bg-primary text-white py-3 !rounded-button font-medium hover:bg-opacity-90 transition-colors whitespace-nowrap flex items-center justify-center opacity-50 cursor-not-allowed">
<i class="ri-mail-send-line mr-2"></i>
Invia Richiesta di Prenotazione
</button>
<p class="mt-4 text-sm text-gray-600 text-center">Sarai ricontattato da Cagliari Sailing Charter entro 24h per confermare e procedere al pagamento dell'anticipo</p>
</div>
</div>
</div>
</div>
</main>
<!-- Footer -->
<footer class="bg-gray-900 text-white pt-12 pb-6 mt-12">
<div class="container mx-auto px-4">
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
<div>
<a href="#" class="text-3xl font-['Pacifico'] text-white mb-4 block">logo</a>
<p class="text-gray-400 mb-4">Offriamo indimenticabili vacanze in catamarano nelle acque cristalline della Sardegna, combinando lusso, avventura e relax.</p>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">Contatti</h3>
<ul class="space-y-2">
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3 mt-1">
<i class="ri-map-pin-line"></i>
</div>
<span class="text-gray-400">Via del Porto 123, 07026 Olbia (SS), Sardegna</span>
</li>
<li class="flex items-center">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3">
<i class="ri-phone-line"></i>
</div>
<span class="text-gray-400">+39 0789 123456</span>
</li>
<li class="flex items-center">
<div class="w-5 h-5 flex items-center justify-center text-primary mr-3">
<i class="ri-mail-line"></i>
</div>
<span class="text-gray-400">info@catamaranisardegna.it</span>
</li>
</ul>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">Informazioni</h3>
<ul class="space-y-2">
<li><a href="#" class="text-gray-400 hover:text-white transition-colors">Chi siamo</a></li>
<li><a href="#" class="text-gray-400 hover:text-white transition-colors">Termini e Condizioni</a></li>
<li><a href="#" class="text-gray-400 hover:text-white transition-colors">Privacy Policy</a></li>
<li><a href="#" class="text-gray-400 hover:text-white transition-colors">Cookie Policy</a></li>
<li><a href="#" class="text-gray-400 hover:text-white transition-colors">FAQ</a></li>
</ul>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">Metodi di Pagamento</h3>
<div class="flex flex-wrap gap-3">
<div class="w-10 h-10 flex items-center justify-center bg-gray-800 rounded">
<i class="ri-visa-fill ri-lg"></i>
</div>
<div class="w-10 h-10 flex items-center justify-center bg-gray-800 rounded">
<i class="ri-mastercard-fill ri-lg"></i>
</div>
<div class="w-10 h-10 flex items-center justify-center bg-gray-800 rounded">
<i class="ri-paypal-fill ri-lg"></i>
</div>
<div class="w-10 h-10 flex items-center justify-center bg-gray-800 rounded">
<i class="ri-bank-card-fill ri-lg"></i>
</div>
</div>
<div class="mt-4">
<h3 class="text-lg font-semibold mb-4">Seguici</h3>
<div class="flex space-x-3">
<a href="#" class="w-8 h-8 flex items-center justify-center bg-gray-800 rounded-full hover:bg-primary transition-colors">
<i class="ri-facebook-fill"></i>
</a>
<a href="#" class="w-8 h-8 flex items-center justify-center bg-gray-800 rounded-full hover:bg-primary transition-colors">
<i class="ri-instagram-line"></i>
</a>
<a href="#" class="w-8 h-8 flex items-center justify-center bg-gray-800 rounded-full hover:bg-primary transition-colors">
<i class="ri-twitter-x-line"></i>
</a>
</div>
</div>
</div>
</div>
<div class="border-t border-gray-800 pt-6">
<p class="text-gray-500 text-sm text-center">© 2025 Catamarani Sardegna. Tutti i diritti riservati.</p>
</div>
</div>
</footer>
<script id="logo-loader-script">
// Carica e mostra il logo dalla configurazione
document.addEventListener('DOMContentLoaded', function() {
    try {
        console.log('🔄 Caricamento logo per pagina prenotazione...');
        const config = CatamaranStorage.load();
        const logoElement = document.getElementById('site-logo');
        
        console.log('📂 Configurazione caricata:', config.theme);
        console.log('🎯 Elemento logo trovato:', !!logoElement);
        
        if (logoElement) {
            // Migrazione della configurazione logo (da stringa a oggetto)
            if (typeof config.theme.logo === 'string') {
                console.log('🔄 Migrazione configurazione logo da stringa a oggetto');
                const oldLogoText = config.theme.logo;
                config.theme.logo = {
                    type: 'text',
                    imageUrl: '',
                    text: oldLogoText
                };
            }
            
            // Assicurati che la struttura logo esista
            if (!config.theme.logo) {
                config.theme.logo = { type: 'text', imageUrl: '', text: 'logo' };
            }
            
            console.log('🖼️ Configurazione logo:', config.theme.logo);
            
            if (config.theme.logo.type === 'image' && config.theme.logo.imageUrl) {
                console.log('✅ Mostrando immagine logo');
                // Mostra immagine logo
                logoElement.innerHTML = `<img src="${config.theme.logo.imageUrl}" alt="${config.theme.logo.text}" class="h-8 w-auto">`;
                logoElement.className = 'block';
            } else {
                console.log('📝 Mostrando testo logo:', config.theme.logo.text);
                // Mostra testo logo
                logoElement.textContent = config.theme.logo.text;
                logoElement.className = 'text-3xl font-["Pacifico"] text-primary';
            }
        }
        
        // Carica titolo principale
        const titleElement = document.getElementById('page-main-title');
        if (titleElement && config.ui && config.ui.mainHeading) {
            console.log('📝 Aggiornando titolo principale:', config.ui.mainHeading);
            titleElement.textContent = config.ui.mainHeading;
        }
        
        // Carica badge prezzo di partenza
        const priceBadge = document.getElementById('price-badge');
        const badgeText = document.getElementById('badge-text');
        const badgePrice = document.getElementById('badge-price');
        
        // Assicurati che la struttura badge esista
        if (!config.priceBadge) {
            config.priceBadge = {
                enabled: true,
                text: "A partire da",
                color: "#f8b400",
                textColor: "#ffffff"
            };
        }
        
        if (priceBadge && badgeText && badgePrice && config.priceBadge.enabled) {
            console.log('🏷️ Aggiornando badge prezzo:', config.priceBadge);
            
            // Aggiorna il testo del badge
            badgeText.textContent = config.priceBadge.text || 'A partire da';
            
            // Aggiorna il prezzo del badge
            if (config.basic && config.basic.startingPrice) {
                badgePrice.textContent = `€${config.basic.startingPrice.toLocaleString()}`;
            }
            
            // Aggiorna i colori del badge
            priceBadge.style.backgroundColor = config.priceBadge.color || '#f8b400';
            priceBadge.style.color = config.priceBadge.textColor || '#ffffff';
            
            // Mostra il badge
            priceBadge.style.display = 'flex';
        } else if (priceBadge) {
            // Nascondi il badge se disabilitato
            priceBadge.style.display = 'none';
        }
        
        // Carica prezzi
        const basePriceElement = document.getElementById('base-price');
        const summaryBasePriceElement = document.getElementById('summary-base-price');
        
        if (basePriceElement && config.basic && config.basic.basePrice) {
            console.log('💰 Aggiornando prezzo base:', config.basic.basePrice);
            basePriceElement.textContent = `€ ${config.basic.basePrice.toLocaleString()}`;
        }
        
        if (summaryBasePriceElement && config.basic && config.basic.basePrice) {
            summaryBasePriceElement.textContent = `€ ${config.basic.basePrice.toLocaleString()}`;
        }
        
    } catch (error) {
        console.error('❌ Errore nel caricamento del logo:', error);
    }
});
</script>
<script id="calendar-script">
document.addEventListener('DOMContentLoaded', function() {
let currentDate = new Date(2025, 4, 23); // 2025-05-23
let selectedStartDate = null;
let selectedEndDate = null;
const monthNames = ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno', 'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre'];
const calendarDays = document.getElementById('calendarDays');
const currentMonthElement = document.getElementById('currentMonth');
const selectedWeekElement = document.getElementById('selectedWeek');
const clearSelectionButton = document.getElementById('clearSelection');
const bookingDatesElement = document.getElementById('booking-dates');
function getSunday(date) {
const day = date.getDay();
return new Date(date.setDate(date.getDate() - day));
}

// Funzione per ottenere il lunedì della settimana ISO (per compatibilità con admin)
function getMondayISO(date) {
const day = date.getDay();
const mondayOffset = day === 0 ? -6 : 1 - day; // Se domenica (-6), altrimenti (1 - day)
const monday = new Date(date);
monday.setDate(date.getDate() + mondayOffset);
return monday;
}
function formatDate(date) {
const day = date.getDate().toString().padStart(2, '0');
const month = monthNames[date.getMonth()];
return `${day} ${month}`;
}
function formatDateWithTime(date, time) {
return `${formatDate(date)} ore ${time}`;
}
function renderCalendar() {
const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
const startingDay = getSunday(new Date(firstDay));
currentMonthElement.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
calendarDays.innerHTML = '';
const today = new Date(2025, 4, 23);
const minDate = today;
for (let i = 0; i < 42; i++) {
const date = new Date(startingDay);
date.setDate(startingDay.getDate() + i);
const dayElement = document.createElement('div');
dayElement.className = 'relative py-3 text-sm text-center';
if (date < minDate) {
dayElement.className += ' text-gray-300 cursor-not-allowed';
} else {
dayElement.className += ' hover:bg-gray-50 cursor-pointer';
dayElement.setAttribute('data-date', date.toISOString());
if (selectedStartDate && selectedEndDate) {
if (date >= selectedStartDate && date <= selectedEndDate) {
dayElement.className += ' bg-primary bg-opacity-10';
}
if (date.toDateString() === selectedStartDate.toDateString()) {
dayElement.className += ' bg-primary text-white rounded-l-lg';
}
if (date.toDateString() === selectedEndDate.toDateString()) {
dayElement.className += ' bg-primary text-white rounded-r-lg';
}
// Add red dot for boarding day (Saturday before start)
const boardingDate = new Date(selectedStartDate);
boardingDate.setDate(selectedStartDate.getDate() - 1);
if (date.toDateString() === boardingDate.toDateString()) {
const dot = document.createElement('div');
dot.className = 'absolute -top-1 right-1 w-2 h-2 bg-red-500 rounded-full';
dayElement.appendChild(dot);
}
}
}
dayElement.textContent = date.getDate();
calendarDays.appendChild(dayElement);
}
attachDayClickHandlers();
}
function attachDayClickHandlers() {
const dayElements = calendarDays.querySelectorAll('[data-date]');
dayElements.forEach(dayElement => {
dayElement.addEventListener('click', () => {
const clickedDate = new Date(dayElement.dataset.date);

// Per la visualizzazione: usa domenica-sabato (tradizionale)
const weekStart = getSunday(new Date(clickedDate));
const weekEnd = new Date(weekStart);
weekEnd.setDate(weekStart.getDate() + 6);

// Per il calcolo prezzi: usa lunedì ISO (compatibile con admin)
const mondayISO = getMondayISO(new Date(clickedDate));

console.log('📅 Click calendario:', {
    clickedDate: clickedDate.toISOString().slice(0,10),
    weekStart_domenica: weekStart.toISOString().slice(0,10),
    mondayISO: mondayISO.toISOString().slice(0,10),
    weekNumber_domenica: getWeekNumber(weekStart),
    weekNumber_mondayISO: getWeekNumber(mondayISO)
});

selectedStartDate = weekStart;
selectedEndDate = weekEnd;
const boardingDate = new Date(weekStart);
boardingDate.setDate(weekStart.getDate() - 1);
selectedWeekElement.textContent = `${formatDate(weekStart)} - ${formatDate(weekEnd)}`;
document.getElementById('boardingTimes').textContent = `Check-in: ${formatDateWithTime(boardingDate, '16:00')} | Check-out: ${formatDateWithTime(weekEnd, '10:00')}`;
bookingDatesElement.textContent = `${formatDate(weekStart)} - ${formatDate(weekEnd)} 2025`;
clearSelectionButton.classList.remove('hidden');

// Mostra la sezione prezzo quando viene selezionata una settimana
const weekPriceSection = document.getElementById('week-price-section');
if (weekPriceSection) {
    weekPriceSection.classList.remove('hidden');
}

// Aggiorna il prezzo base per la settimana selezionata (usa lunedì ISO)
updateBasePriceForWeek(mondayISO);

renderCalendar();
});
});
}
document.getElementById('prevMonth').addEventListener('click', () => {
currentDate.setMonth(currentDate.getMonth() - 1);
renderCalendar();
});
document.getElementById('nextMonth').addEventListener('click', () => {
currentDate.setMonth(currentDate.getMonth() + 1);
renderCalendar();
});
clearSelectionButton.addEventListener('click', () => {
selectedStartDate = null;
selectedEndDate = null;
selectedWeekElement.textContent = 'Nessuna settimana selezionata';
bookingDatesElement.textContent = '23 Maggio - 30 Maggio 2025';
clearSelectionButton.classList.add('hidden');

// Nascondi la sezione prezzo quando viene cancellata la selezione
const weekPriceSection = document.getElementById('week-price-section');
if (weekPriceSection) {
    weekPriceSection.classList.add('hidden');
}

// Ripristina il prezzo base default
const config = CatamaranStorage.load();
currentBasePrice = config.basic.basePrice || 3499;

// Aggiorna la visualizzazione del prezzo base
const basePriceElement = document.getElementById('base-price');
const summaryBasePriceElement = document.getElementById('summary-base-price');

if (basePriceElement) {
    basePriceElement.textContent = `€ ${currentBasePrice.toLocaleString()}`;
}
if (summaryBasePriceElement) {
    summaryBasePriceElement.textContent = `€ ${currentBasePrice.toLocaleString()}`;
}

// Aggiorna i totali
if (typeof window.updateTotals === 'function') {
    window.updateTotals();
}

renderCalendar();
});
renderCalendar();
});
</script>
<script id="guest-counter-script">
document.addEventListener('DOMContentLoaded', function() {
const decreaseBtn = document.getElementById('decreaseGuests');
const increaseBtn = document.getElementById('increaseGuests');
const guestsInput = document.getElementById('guestsCount');
const bookingGuests = document.getElementById('booking-guests');
const linensDetailElement = document.getElementById('linens-detail-price');
function updateCleaningFee(guests) {
const cleaningFee = guests * 20;
if (linensDetailElement) {
    linensDetailElement.textContent = cleaningFee;
    console.log(`💰 Aggiornato prezzo lenzuola: €${cleaningFee} per ${guests} ospiti`);
} else {
    console.error('❌ Elemento linens-detail-price non trovato');
}
updatePartialTotal();
updateTotalPrice();
}
function updatePartialTotal() {
const basePrice = 3499;
const charterPackage = 400;
const fuelPackage = 350;
const linensElement = document.getElementById('linens-detail-price');
const cleaningFee = linensElement ? parseInt(linensElement.textContent) : 120;
const partialTotal = basePrice + charterPackage + fuelPackage + cleaningFee;
document.getElementById('partial-total').textContent = `€${partialTotal}`;
}
function updateTotalPrice() {
const basePrice = 3500;
const charterPackage = 400;
const cleaningFee = parseInt(cleaningFeeElement.textContent.replace('€', ''));
const servicesTotal = parseInt(document.getElementById('services-total')?.textContent?.replace('€', '') || 0);
const total = basePrice + charterPackage + cleaningFee + servicesTotal;
document.getElementById('total-price').textContent = `€${total}`;
}
decreaseBtn.addEventListener('click', function() {
let currentValue = parseInt(guestsInput.value);
if (currentValue > 1) {
guestsInput.value = currentValue - 1;
bookingGuests.textContent = `${currentValue - 1} persone`;
updateCleaningFee(currentValue - 1);
}
});
increaseBtn.addEventListener('click', function() {
let currentValue = parseInt(guestsInput.value);
if (currentValue < 8) {
guestsInput.value = currentValue + 1;
bookingGuests.textContent = `${currentValue + 1} persone`;
updateCleaningFee(currentValue + 1);
}
});
guestsInput.addEventListener('change', function() {
let currentValue = parseInt(guestsInput.value);
if (currentValue < 1) {
guestsInput.value = 1;
currentValue = 1;
} else if (currentValue > 8) {
guestsInput.value = 8;
currentValue = 8;
}
bookingGuests.textContent = `${currentValue} persone`;
updateCleaningFee(currentValue);
});
updateCleaningFee(parseInt(guestsInput.value));
});
</script>
<script id="dynamic-pricing-script">
// === SISTEMA PREZZI DINAMICI GLOBALE ===
let currentBasePrice = 3499; // Prezzo dinamico basato sulla settimana selezionata

// Funzione per calcolare il numero della settimana ISO
function getWeekNumber(date) {
    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
    const dayNum = d.getUTCDay() || 7;
    d.setUTCDate(d.getUTCDate() + 4 - dayNum);
    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
}

// Funzione per ottenere il prezzo per una settimana specifica
function getWeeklyPrice(date) {
    const config = CatamaranStorage.load();
    
    console.log('🔍 getWeeklyPrice chiamata per data:', date.toISOString().slice(0,10));
    console.log('📊 Config weeklyPricing:', config.weeklyPricing);
    
    if (!config.weeklyPricing || !config.weeklyPricing.enabled) {
        console.log('⚠️ Prezzi settimanali disabilitati, uso basePrice:', config.basic.basePrice);
        return config.basic.basePrice || 3499;
    }
    
    const weekNumber = getWeekNumber(date);
    const year = date.getFullYear();
    const weekKey = `${year}-W${weekNumber.toString().padStart(2, '0')}`;
    
    console.log(`📅 Settimana calcolata: ${weekKey} (numero ${weekNumber})`);
    console.log('💰 Settimane configurate:', config.weeklyPricing.weeks);
    
    // Controlla se esiste un prezzo specifico per questa settimana
    if (config.weeklyPricing.weeks && config.weeklyPricing.weeks[weekKey]) {
        const price = config.weeklyPricing.weeks[weekKey].price;
        console.log(`✅ Prezzo specifico trovato per ${weekKey}: €${price}`);
        return price;
    }
    
    // Altrimenti usa il prezzo default del calendario
    const defaultPrice = config.weeklyPricing.defaultPrice || config.basic.basePrice || 3499;
    console.log(`📋 Uso prezzo default: €${defaultPrice}`);
    return defaultPrice;
}

// Funzione per aggiornare il prezzo base quando viene selezionata una settimana
function updateBasePriceForWeek(startDate) {
    if (startDate) {
        console.log('💰 updateBasePriceForWeek chiamata per:', startDate.toISOString().slice(0,10));
        const config = CatamaranStorage.load();
        currentBasePrice = getWeeklyPrice(startDate);
        console.log('📊 Nuovo currentBasePrice:', currentBasePrice);
        
        // Ottieni informazioni sulla settimana
        const weekNumber = getWeekNumber(startDate);
        const year = startDate.getFullYear();
        const weekKey = `${year}-W${weekNumber.toString().padStart(2, '0')}`;
        const weekData = config.weeklyPricing?.weeks?.[weekKey];
        
        // Aggiorna la visualizzazione del prezzo base
        const basePriceElement = document.getElementById('base-price');
        const summaryBasePriceElement = document.getElementById('summary-base-price');
        
        if (basePriceElement) {
            basePriceElement.textContent = `€ ${currentBasePrice.toLocaleString()}`;
        }
        if (summaryBasePriceElement) {
            summaryBasePriceElement.textContent = `€ ${currentBasePrice.toLocaleString()}`;
        }
        
        // Aggiorna le informazioni della settimana
        const weekDetailsElement = document.getElementById('week-details');
        const weekNoteElement = document.getElementById('week-note');
        
        if (weekDetailsElement) {
            weekDetailsElement.textContent = `Settimana ${weekNumber} (${weekKey}) - 7 giorni selezionati`;
        }
        
        if (weekNoteElement && weekData?.note) {
            weekNoteElement.textContent = weekData.note;
            weekNoteElement.style.display = 'block';
        } else if (weekNoteElement) {
            weekNoteElement.style.display = 'none';
        }
        
        // Aggiorna anche i totali se la funzione esiste
        if (typeof window.updateTotals === 'function') {
            window.updateTotals();
        }
    }
}
</script>

<script id="services-calculator-script">
document.addEventListener('DOMContentLoaded', function() {
const serviceCheckboxes = document.querySelectorAll('.service-checkbox');
const servicesTotalContainer = document.getElementById('services-total-container');
const servicesTotalElement = document.getElementById('services-total');
const selectedServicesList = document.getElementById('selected-services-list');
const totalPriceElement = document.getElementById('total-price');
let servicesTotal = 0;

// Funzione per aggiornare il display del sconto Instagram
function updateInstagramDiscountDisplay(discountConfig, discountAmount) {
    const discountSection = document.getElementById('instagram-discount-section');
    const discountLabel = document.getElementById('discount-label');
    const discountAmountElement = document.getElementById('discount-amount');
    
    if (!discountSection || !discountLabel || !discountAmountElement) {
        console.error('❌ Elementi sconto Instagram non trovati');
        return;
    }
    
    if (discountConfig.enabled && discountAmount > 0) {
        // Mostra il sconto
        discountSection.style.display = 'flex';
        discountLabel.textContent = discountConfig.label || 'Sconto Instagram';
        discountAmountElement.textContent = `-€ ${discountAmount.toFixed(2).replace('.', ',')}`;
        console.log('💰 Sconto Instagram aggiornato:', {
            label: discountConfig.label,
            amount: discountAmount,
            percentage: discountConfig.percentage
        });
    } else {
        // Nascondi il sconto se disabilitato
        discountSection.style.display = 'none';
        console.log('💰 Sconto Instagram disabilitato');
    }
}

// Rende updateTotals globale per il sistema di prezzi dinamici
window.updateTotals = function() {
console.log('🔄 updateTotals chiamata');

// Verifica esistenza elementi DOM
if (!servicesTotalContainer) {
    console.error('❌ servicesTotalContainer non trovato');
    return;
}
if (!servicesTotalElement) {
    console.error('❌ servicesTotalElement non trovato');
    return;
}
if (!selectedServicesList) {
    console.error('❌ selectedServicesList non trovato');
    return;
}
if (!totalPriceElement) {
    console.error('❌ totalPriceElement non trovato');
    return;
}

const selectedServices = Array.from(serviceCheckboxes).filter(checkbox => checkbox.checked);
console.log('📋 Servizi selezionati:', selectedServices.length);

if (selectedServices.length === 0) {
servicesTotalContainer.style.display = 'none';
} else {
servicesTotalContainer.style.display = 'block';
selectedServicesList.innerHTML = '';
let dailyTotal = 0;
let onetimeTotal = 0;
selectedServices.forEach(service => {
const price = parseInt(service.dataset.price);
const name = service.dataset.name;
const isOneTime = service.dataset.onetime === 'true';
if (isOneTime) {
onetimeTotal += price;
selectedServicesList.innerHTML += `
<div>
<div class="flex justify-between items-start mb-2">
<span class="font-medium">${name}:</span>
<span class="font-medium">€ ${price}</span>
</div>
</div>
`;
} else {
dailyTotal += price;
selectedServicesList.innerHTML += `
<div>
<div class="flex justify-between items-start mb-2">
<span class="font-medium">${name}:</span>
<span class="font-medium">€ ${price * 7}</span>
</div>
<ul class="list-disc ml-4 space-y-1 text-xs">
<li>€${price} x 7 giorni</li>
</ul>
</div>
`;
}
});
servicesTotal = (dailyTotal * 7) + onetimeTotal;
}
const linensElement = document.getElementById('linens-detail-price');
const cleaningFee = linensElement ? parseInt(linensElement.textContent) : 120;

// Verifica finale prima di aggiornare UI
if (servicesTotalElement && totalPriceElement) {
    servicesTotalElement.textContent = `€${servicesTotal}`;
    // Carica configurazione sconto Instagram dinamica
    const config = CatamaranStorage.load();
    const discountConfig = config.pricing && config.pricing.instagramDiscount ? config.pricing.instagramDiscount : {
        enabled: true,
        percentage: 10,
        label: "Sconto Instagram -10%"
    };
    
    const instagramDiscount = discountConfig.enabled ? (currentBasePrice * (discountConfig.percentage / 100)) : 0;
    const finalTotal = currentBasePrice - instagramDiscount + servicesTotal + cleaningFee;
    totalPriceElement.textContent = `€${finalTotal}`;
    
    // Aggiorna display sconto Instagram
    updateInstagramDiscountDisplay(discountConfig, instagramDiscount);
    
    console.log('📊 Calcolo totale completato:', {currentBasePrice, instagramDiscount, servicesTotal, cleaningFee, finalTotal});
} else {
    console.error('❌ Impossibile aggiornare totali: elementi mancanti', {
        servicesTotalElement: !!servicesTotalElement,
        totalPriceElement: !!totalPriceElement
    });
}
}
serviceCheckboxes.forEach(checkbox => {
checkbox.addEventListener('change', window.updateTotals);
});
window.updateTotals();
});
</script>
<script id="mobile-menu-script">
document.addEventListener('DOMContentLoaded', function() {
const menuButton = document.querySelector('.ri-menu-line').parentElement;
const nav = document.querySelector('nav');
menuButton.addEventListener('click', function() {
nav.classList.toggle('hidden');
nav.classList.toggle('flex');
nav.classList.toggle('flex-col');
nav.classList.toggle('absolute');
nav.classList.toggle('top-16');
nav.classList.toggle('left-0');
nav.classList.toggle('right-0');
nav.classList.toggle('bg-white');
nav.classList.toggle('shadow-lg');
nav.classList.toggle('p-4');
nav.classList.toggle('z-50');
});
});
</script>

<script id="config-loader">
// Caricamento configurazione dinamica
function loadCatamaranConfiguration() {
    try {
        console.log('📖 Caricamento configurazione catamarano...');
        const config = CatamaranStorage.load();
        
        if (!config) {
            console.error('❌ Configurazione non caricata');
            return;
        }
        
        // Aggiorna nome catamarano
        updateElement('catamaran-name', config.basic.name);
        
        // Aggiorna prezzo base (inizializza currentBasePrice con il valore dalla configurazione)
        currentBasePrice = config.basic.basePrice || 3499;
        console.log('🚀 Inizializzazione currentBasePrice:', currentBasePrice);
        console.log('🔧 Config all\'inizializzazione:', config);
        updateElement('base-price', `€ ${currentBasePrice.toLocaleString()}`);
        
        // Aggiorna anno 
        updateElement('catamaran-year', `Anno ${config.basic.year}`);
        
        // Aggiorna prezzo nel riepilogo (usa il currentBasePrice)
        updateElement('summary-base-price', `€ ${currentBasePrice.toLocaleString()}`);
        
        // Aggiorna prezzi pacchetti (usa ID corretti dal DOM)
        updateElement('charter-detail-price', config.mandatoryPackages.charter.price.toString());
        updateElement('fuel-detail-price', config.mandatoryPackages.fuel.price.toString());
        
        // Aggiorna prezzo lenzuola (calcolato per numero ospiti di default)
        const defaultGuests = config.basic.defaultGuests || 6;
        const linensTotal = config.mandatoryPackages.linens.pricePerGuest * defaultGuests;
        updateElement('linens-detail-price', linensTotal.toString());
        
        // Aggiorna prezzo skipper
        updateElement('skipper-price', `€${config.additionalServices.skipper.price}/giorno`);
        
        // Aggiorna data-price del checkbox skipper
        const skipperCheckbox = document.querySelector('.service-checkbox[data-name="Skipper"]');
        if (skipperCheckbox) {
            skipperCheckbox.setAttribute('data-price', config.additionalServices.skipper.price);
            console.log('✅ Skipper checkbox price aggiornato:', config.additionalServices.skipper.price);
        }
        
        console.log('Configurazione catamarano caricata con successo');
        console.log('Dati caricati:', {
            name: config.basic.name,
            price: config.basic.basePrice,
            year: config.basic.year,
            linensPrice: config.mandatoryPackages.linens.pricePerGuest,
            skipperPrice: config.additionalServices.skipper.price
        });
        
    } catch (error) {
        console.error('Errore nel caricare la configurazione:', error);
    }
}

// Gestione robusta aggiornamenti DOM con fallback
function updateElement(id, content, fallbackValue = null) {
    try {
        const element = document.getElementById(id);
        if (element) {
            element.textContent = content;
            console.log(`✅ Aggiornato ${id}:`, content);
            return true;
        } else {
            console.warn(`⚠️ Elemento non trovato: ${id}`);
            if (fallbackValue !== null) {
                console.log(`🔄 Applicando fallback per ${id}:`, fallbackValue);
                // Potrebbe essere implementato un fallback alternativo
            }
            return false;
        }
    } catch (error) {
        console.error(`❌ Errore aggiornamento elemento ${id}:`, error);
        return false;
    }
}

// Verifica stato salute DOM per elementi critici
function checkDOMHealth() {
    const criticalElements = [
        'base-price', 'summary-base-price', 'total-price',
        'linens-detail-price', 'charter-detail-price', 'fuel-detail-price'
    ];
    
    const missing = [];
    const present = [];
    
    criticalElements.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            present.push(id);
        } else {
            missing.push(id);
        }
    });
    
    console.log('🏥 Stato salute DOM:', {
        presenti: present.length,
        mancanti: missing.length,
        elementMancanti: missing
    });
    
    if (missing.length > 0) {
        console.warn('⚠️ Elementi critici mancanti potrebbero causare errori:', missing);
    }
    
    return missing.length === 0;
}

// Carica la configurazione quando la pagina è pronta
document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 Inizializzazione pagina prenotazione...');
    
    // Verifica stato salute DOM prima di procedere
    const domHealthy = checkDOMHealth();
    
    if (domHealthy) {
        console.log('✅ DOM verificato, procedo con caricamento configurazione');
        loadCatamaranConfiguration();
    } else {
        console.warn('⚠️ DOM con elementi mancanti, caricamento potrebbe avere problemi');
        // Carica comunque ma con avviso
        loadCatamaranConfiguration();
    }
});
</script>
</body>
</html>